<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
     integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" 
     crossorigin="anonymous" referrerpolicy="no-referrer" />
     <style>
       *{
            margin:0;
            padding:0;
            box-sizing:border-box;
        }
        :root{
            --primary:#7749f8;
            --primary-light:#9775fa;
            --dark:#212529;
            --light:#f8f9fa;
            --gray:#868e96;
            --danger:#fa5252;
            --success:#40c057;
            --border:#e9ecef;
        }
        body{
            font-family:sans-serif;
            background:#f1f3f5;
            min-height:100vh;
            display:flex;
            justify-content:center;
            padding:20px;
            color:var(--dark);
        }
        .app{
            width:100%;
            max-width:500px;
            background:#fff;
            border-radius:12px;
            overflow:hidden;
            box-shadow:0 10px 25px rgba(0,0,0,0.1);
        }
        header{
            background:var(--primary);
            color:#fff;
            padding:20px 25px;
        }
        header h1{
            font-size:24px;
            margin-bottom:5px;
        }
        .todo-input{
            display:flex;
            gap:10px;
            padding:15px 20px;
            border-bottom:1px solid var(--border);
        }
        .todo-input input{
            flex:1;
            padding:12px 15px;
            border:1px solid var(--border);
            border-radius:6px;
            font-size:1rem;
        }
        .todo-input button{
            width:45px;
            height:45px;
            background:var(--primary);
            border:none;
            color:#fff;
            border-radius:6px;
            cursor:pointer;
        }

        .filters{
            display:flex;
            gap:20px;
            padding:12px 20px;
            border-bottom:1px solid var(--border);
        }
        .filter{
            cursor:pointer;
            color:var(--gray);
            font-weight:500;
        }
        .filter.active{
            color:var(--primary);
            border-bottom:2px solid var(--primary);
        }

        .todos-container{
            max-height:300px;
            overflow-y:auto;
        }
        #todos-list{
            list-style-type:none;
        }
        .todo-item{
            display:flex;
            align-items:center;
            justify-content:space-between;
            padding:12px 20px;
            border-bottom:1px solid var(--border);
        }
        .todo-left{
            display:flex;
            align-items:center;
            gap:15px;
        }
        .todo-item-text.completed{
            text-decoration:line-through;
            color:var(--gray);
        }
        .delete-btn{
            background:none;
            border:none;
            color:var(--danger);
            font-size:18px;
            cursor:pointer;
        }

        footer{
            display:flex;
            justify-content:space-between;
            align-items:center;
            padding:12px 20px;
            background:var(--light);
            border-top:1px solid var(--border);
        }
        #clear-completed{
            background:none;
            color:var(--primary);
            border:none;
            cursor:pointer;
        }
     </style>
</head>
<body>
  <div class="app">
    <header>
        <h1><i class="fas fa-check-circle"></i> My Tasks</h1>
        <p id="date"></p>
    </header>

    <div class="todo-input">
        <input type="text" id="task-input" placeholder="What do you need to do?" />
        <button id="add-task"><i class="fas fa-plus"></i></button>
    </div>

    <div class="filters">
        <span class="filter active" data-filter="all">All</span>
        <span class="filter" data-filter="active">Active</span>
        <span class="filter" data-filter="completed">Completed</span>
    </div>

    <div class="todos-container">
        <ul id="todos-list"></ul>
    </div>

    <footer>
        <p id="items-left">0 items left</p>
        <button id="clear-completed">Clear Completed</button>
    </footer>
</div>
<script>
    const taskInput = document.getElementById("task-input");
    const addTaskBtn = document.getElementById("add-task");
    const todosList = document.getElementById("todos-list");
    const filters = document.querySelectorAll(".filter");
    const clearCompletedBtn = document.getElementById("clear-completed");
    const itemsLeftText = document.getElementById("items-left");

    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    let currentFilter = "all";

    // Show date
    document.getElementById("date").textContent =
        new Date().toDateString();

    function saveTasks() {
        localStorage.setItem("tasks", JSON.stringify(tasks));
    }

    function updateItemsLeft() {
        const activeCount = tasks.filter(t => !t.completed).length;
        itemsLeftText.textContent = `${activeCount} items left`;
    }

    function createTaskHTML(task) {
        const li = document.createElement("li");
        li.className = "todo-item";

        li.innerHTML = `
            <div class="todo-left">
                <input type="checkbox" class="todo-checkbox" ${task.completed ? "checked" : ""}>
                <span class="todo-item-text ${task.completed ? "completed" : ""}">${task.text}</span>
            </div>
            <button class="delete-btn"><i class="fas fa-trash"></i></button>
        `;

        // Toggle complete
        li.querySelector(".todo-checkbox").addEventListener("change", (e) => {
            task.completed = e.target.checked;
            saveTasks();
            renderTasks();
        });

        // Delete task
        li.querySelector(".delete-btn").addEventListener("click", () => {
            tasks = tasks.filter(t => t.id !== task.id);
            saveTasks();
            renderTasks();
        });

        return li;
    }

    function renderTasks() {
        todosList.innerHTML = "";

        const filteredTasks = tasks.filter(task => {
            if (currentFilter === "active") return !task.completed;
            if (currentFilter === "completed") return task.completed;
            return true;
        });

        filteredTasks.forEach(task => {
            todosList.appendChild(createTaskHTML(task));
        });

        updateItemsLeft();
    }

    function addTask() {
        const text = taskInput.value.trim();
        if (text === "") return;

        const newTask = {
            id: Date.now(),
            text,
            completed: false
        };

        tasks.push(newTask);
        saveTasks();
        renderTasks();

        taskInput.value = "";
    }

    addTaskBtn.addEventListener("click", addTask);
    taskInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") addTask();
    });

    // Filters
    filters.forEach(filter => {
        filter.addEventListener("click", () => {
            filters.forEach(f => f.classList.remove("active"));
            filter.classList.add("active");

            currentFilter = filter.dataset.filter;
            renderTasks();
        });
    });

    // Clear completed
    clearCompletedBtn.addEventListener("click", () => {
        tasks = tasks.filter(t => !t.completed);
        saveTasks();
        renderTasks();
    });

    // First load
    renderTasks();
</script>

</body>
</html>